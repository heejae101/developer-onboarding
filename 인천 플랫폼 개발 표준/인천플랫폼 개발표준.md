---
tags:
  - Java
  - SpringBoot
  - 전자정부표준프레임워크
  - 개발표준
---

# 인천플랫폼 개발표준 초안

> [!NOTE] 표준화 목적
> 인천플랫폼 프로젝트의 일관성 있는 애플리케이션 개발을 위해 전자정부 표준프레임워크 세부 적용기준을 준수하는 가이드라인을 제시합니다.

---

## 1. 개요

### 1.1 기술 스택
- **언어**: Java 17
- **프레임워크**: Spring Boot 2.7.18, 전자정부 표준프레임워크 4.3.0
- **빌드 도구**: Maven 3.x
- **데이터 접근**: MyBatis 3.x (매퍼 인터페이스 방식)
- **데이터베이스**: PostgreSQL 15 이상
- **뷰 엔진**: JSP + JSTL (Tag Layout 시스템 권장)
- **데이터 검증**: Validation API (Bean Validation 2.0)
- **아티팩트 저장소**: Nexus

---

## 2. 아키텍처 및 레이어 규칙

### 2.1 패키지 및 레이어 구조
서비스와 업무 단위로 패키지를 구분하며, 표준 레이어를 준수합니다.

```
incheon.{서비스}.{업무}/
├── web/                    # Controller 계층
├── service/                # Service 인터페이스 계층
│   └── impl/              # Service 구현체 계층 (EgovAbstractServiceImpl 상속 필수)
├── mapper/                # MyBatis Mapper 인터페이스 계층
└── vo/                    # Value Object 계층
```

### 2.2 Controller 작성 원칙

#### JSP 기반 컨트롤러
```java
@Controller
@RequestMapping("/board")
public class BoardController {
    @Resource(name = "boardService")
    private BoardService boardService;

    @GetMapping("/list.do")
    public String boardList(@Valid BoardVO boardVO, BindingResult bindingResult, ModelMap model) throws Exception {
        if (bindingResult.hasErrors()) {
            model.addAttribute("errors", bindingResult.getAllErrors());
            return "board/boardList";
        }
        List<BoardVO> resultList = boardService.selectBoardList(boardVO);
        model.addAttribute("resultList", resultList);
        return "board/boardList";
    }
}
```

#### REST API 컨트롤러
```java
@RestController
@RequestMapping("/api/v1/board")
public class BoardApiController {
    @Resource(name = "boardService")
    private BoardService boardService;

    @GetMapping
    public List<BoardVO> getBoardList(@Valid BoardVO boardVO) throws Exception {
        return boardService.selectBoardList(boardVO);
    }
}
```

### 2.3 Service 작성 원칙
- **구현체 상속**: 모든 서비스 구현체는 반드시 `EgovAbstractServiceImpl`을 상속받아야 합니다.
- **Service 이름 지정**: `@Service("업무Service")` 형식을 권장합니다.

### 2.4 Mapper 및 VO 규칙
- **목록 조회**: 성능과 유연성을 위해 `List<EgovMap>` 사용을 고려합니다.
- **단건 조회**: 타입 안정성을 위해 구체적인 `VO` 클래스를 반환합니다.
- **SearchVO 분리**: 검색 조건이 3개 이상이거나 복합적인 경우 `ComDefaultVO`를 상속받는 별도의 `SearchVO` 생성을 권장합니다.

---

## 3. 명명 규칙 (Naming Conventions)

### 3.1 클래스 명명 지침
| 역할 | 명명 규칙 | 예시 |
| :--- | :--- | :--- |
| **JSP Controller** | `{업무}Controller` | `BoardController` |
| **API Controller** | `{업무}ApiController` | `BoardApiController` |
| **Service Interface** | `{업무}Service` | `BoardService` |
| **Service Implementation** | `{업무}ServiceImpl` | `BoardServiceImpl` |
| **Mapper Interface** | `{업무}Mapper` | `BoardMapper` |
| **Value Object** | `{업무}VO` | `BoardVO` |

### 3.2 URL 및 파일 명명
- **URL**: JSP 요청은 `.do` 접미사를 사용하며, API는 버전 관리(`v1`)를 포함합니다.
- **JSP 파일**: 전자정부 표준에 따라 `Egov{업무}{행위}.jsp` 형식을 사용합니다. (예: `EgovArticleList.jsp`)
- **Mapper XML**: `Egov{업무}_SQL_postgres.xml` 형식을 사용합니다.

---

## 4. 데이터 처리 및 보안 규칙

### 4.1 MyBatis 및 트랜잭션
- **매퍼 스캔**: `incheon.*.*.mapper` 경로를 자동 스캔하도록 설정합니다.
- **트랜잭션**: 별도의 어노테이션 없이 `incheon..*Impl.*(..)` 패턴에 대해 전역 트랜잭션을 적용합니다.

### 4.2 보안 및 유지보수 지침

> [!IMPORTANT] 개발 시 주의사항
> 1. **인라인 스타일 금지**: 유지보수성을 위해 자바스크립트나 HTML 태그 내에 인라인 스타일(`style="..."`)을 직접 작성하지 않습니다. 반드시 CSS 클래스를 정의하여 사용하십시오.
> 2. **XSS 방지**: JSP에서 외부 입력값을 출력할 때는 반드시 `<c:out>` 태그를 사용하십시오.
> 3. **SQL 인젝션 방지**: MyBatis 파라미터 바인딩(`#{...}`)을 필수적으로 사용하십시오.

---

## 5. JSP 개발 표준 (JSP Tag Layout)

### 5.1 Tag Layout 시스템 사용
현대적인 개발 방식을 위해 레이아웃과 컨텐츠를 분리하는 **JSP Tag Layout 시스템** 사용을 강력히 권장합니다.

```jsp
<%@ taglib prefix="layout" tagdir="/WEB-INF/tags/layout" %>

<layout:admin pageTitle="게시판 목록">
    <div class="content-area">
        <!-- 컨텐츠 작성 영역 -->
    </div>
</layout:admin>
```

> [!TIP] 장점
> - 컨트롤러에서 레이아웃 관련 설정을 제거하여 비즈니스 로직에만 집중할 수 있습니다.
> - 프로젝트 전반의 UI 일관성을 유지하기 쉽습니다.

---

## 6. 예외 처리 및 로깅

### 6.1 글로벌 예외 처리
- `@ControllerAdvice`를 사용하여 시스템 예외와 비즈니스 예외를 통합 관리합니다.
- 비즈니스 로직 실패 시 커스텀 `BusinessException`을 발생시켜 적절한 에러 코드와 메시지를 전달합니다.

### 6.2 로깅 규칙
- `LoggerFactory`를 통해 클래스별 로거를 생성합니다.
- 상세 디버깅이 필요한 곳은 `debug`, 중요한 상태 변경은 `info`, 오류 상황은 `error` 레벨을 적절히 사용합니다.
